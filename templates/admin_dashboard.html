{% extends "base.html" %}
{% block content %}
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  <div class="col-span-2 bg-white p-6 rounded shadow">
    <h2 class="text-xl font-bold mb-4">Admin Dashboard</h2>

    <section class="mb-6">
      <h3 class="font-semibold mb-2">Add Department</h3>
      <form method="post" action="/admin/add_department" class="flex gap-2">
        <input name="name" placeholder="Department name" class="p-2 border rounded flex-1" required />
        <button class="bg-green-600 text-white px-4 rounded">Add</button>
      </form>
    </section>

    <section class="mb-6">
      <h3 class="font-semibold mb-2">Add Subject</h3>
      <form method="post" action="/admin/add_subject" class="grid grid-cols-1 md:grid-cols-3 gap-2">
        <input name="name" placeholder="Subject name" class="p-2 border rounded" required />
        <select name="department" class="p-2 border rounded">
          {% for d in departments %}
          <option value="{{ d.id }}">{{ d.name }}</option>
          {% endfor %}
        </select>
        <input name="prof_username" placeholder="Professor username (optional)" class="p-2 border rounded" />
        <div class="md:col-span-3">
          <button class="bg-blue-600 text-white px-4 py-2 rounded mt-2">Add Subject</button>
        </div>
      </form>
    </section>

    <section>
      <h3 class="font-semibold mb-2">Departments</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        {% for d in departments %}
        <div class="p-3 border rounded">
          <div class="font-bold">{{ d.name }}</div>
          <div class="text-sm text-gray-600 mt-1">Subjects: {{ d.subjects|length }}</div>
        </div>
        {% endfor %}
      </div>
    </section>
  </div>

  <aside class="bg-white p-6 rounded shadow">
    <h3 class="font-semibold mb-2">Quick Stats</h3>
    <div class="text-sm text-gray-700">(Stats will appear here)</div>
  </aside>
</div>
{% endblock %}